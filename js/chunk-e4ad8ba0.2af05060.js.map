{"version":3,"sources":["webpack:///./src/views/dashboard/DashboardView.vue","webpack:///./src/components/AdminNavbar.vue","webpack:///./src/components/AdminNavbar.vue?48e7","webpack:///./src/views/dashboard/DashboardView.vue?777e","webpack:///./src/mixins/checkLogin.js","webpack:///./src/mixins/logOut.js"],"names":["_createVNode","_component_AdminNavbar","_component_router_view","class","_createElementVNode","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","_createElementBlock","_component_router_link","to","_hoisted_4","onClick","_ctx","mixins","checkLogin","logOut","methods","__exports__","name","components","AdminNavbar","data","checkSuccess","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","post","process","then","res","$httpMessageState","catch","err","response","$router","push","mounted","render","isLogin","alert"],"mappings":"yRACEA,eAA2BC,GAK3BD,eAA2BE,IAA3B,I,2BCLKC,MAAM,+C,GACJA,MAAM,mB,iBACgC,c,EACzCC,eAUS,UATPD,MAAM,iBACNE,KAAK,SACLC,iBAAe,WACfC,iBAAe,0BACfC,gBAAc,yBACdC,gBAAc,QACdC,aAAW,qBAPb,CASEN,eAAyC,QAAnCD,MAAM,0BATd,G,GAWKA,MAAM,2BAA2BQ,GAAG,0B,GACnCR,MAAM,mC,GACJA,MAAM,Y,iBAEL,Q,GAGDA,MAAM,Y,iBAEL,Q,GAGDA,MAAM,Y,iBAEL,O,iBAY2C,O,oFAxCxDS,eA4CM,MA5CN,EA4CM,CA3CJR,eA0CM,MA1CN,EA0CM,CAzCJJ,eAAiEa,EAAA,CAApDV,MAAM,eAAeW,GAAG,KAArC,C,wBAAyC,iBAAU,O,MACnDC,EAWAX,eA4BM,MA5BN,EA4BM,CA3BJA,eAgBK,KAhBL,EAgBK,CAfHA,eAIK,KAJL,EAIK,CAHHJ,eAECa,EAAA,CAFYV,MAAM,WAAWW,GAAG,mBAAjC,C,wBACG,iBAAI,O,QAGTV,eAIK,KAJL,EAIK,CAHHJ,eAECa,EAAA,CAFYV,MAAM,WAAWW,GAAG,iBAAjC,C,wBACG,iBAAI,O,QAGTV,eAIK,KAJL,EAIK,CAHHJ,eAECa,EAAA,CAFYV,MAAM,WAAWW,GAAG,kBAAjC,C,wBACG,iBAAG,O,UAIVV,eASM,YARJA,eAMS,UALPC,KAAK,SACLF,MAAM,+BACLa,QAAK,8BAAEC,yCACT,QAGDjB,eAAiEa,EAAA,CAApDC,GAAG,QAAQX,MAAM,mBAA9B,C,wBAAgD,iBAAG,O,0CAS9C,GACbe,OAAQ,CAACC,OAAYC,QACrBC,QAAS,I,qBC/CX,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QFIA,GACbC,KAAM,YACNC,WAAY,CACVC,eAGFC,KANa,WAOX,MAAO,CACLC,cAAc,IAGlBN,QAAS,CACPF,WADO,WACO,WACNS,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAGFC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnDI,KAAKC,MACFK,KADH,UACWC,0CADX,oBAEGC,MAAK,SAACC,GAEL,EAAKd,cAAe,EACpB,EAAKe,kBAAkBD,EAAK,SAE7BE,OAAM,SAACC,GAEN,EAAKF,kBAAkBE,EAAIC,SAAU,MACrC,EAAKC,QAAQC,KAAK,eAuB1BC,QApDa,WAqDXhB,KAAKb,eG3DT,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS8B,KAErD,gB,wDCPA,QACbvB,KADa,WAEX,MAAO,CACLwB,SAAS,IAGb7B,QAAS,CACPF,WADO,WAEL,IAAMS,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAEFC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EAGjDI,KAAKkB,UADHtB,IAORoB,QArBa,WAsBXhB,KAAKb,gB,kCCtBM,QACbE,QAAS,CACPD,OADO,WAELS,SAASC,OAAS,0BAClBqB,MAAM,aACNnB,KAAKc,QAAQC,KAAK","file":"js/chunk-e4ad8ba0.2af05060.js","sourcesContent":["<template>\n  <AdminNavbar></AdminNavbar>\n  <!-- 把 Toast 移到 App.vue -->\n  <!-- <div class=\"container-fluid mt-3 position-relative\">\n    <Toast></Toast>\n  </div> -->\n  <router-view></router-view>\n</template>\n<script>\nimport AdminNavbar from '@/components/AdminNavbar.vue'\n// import Toast from '@/components/Toast.vue'\nexport default {\n  name: 'Dashboard',\n  components: {\n    AdminNavbar\n    // Toast\n  },\n  data () {\n    return {\n      checkSuccess: false\n    }\n  },\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      )\n      // 2. 本周寫法\n      this.$http.defaults.headers.common.Authorization = token\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/user/check`)\n        .then((res) => {\n          // console.log(res.data)\n          this.checkSuccess = true\n          this.$httpMessageState(res, '登入')\n        })\n        .catch((err) => {\n          // console.log(err.response.data)\n          this.$httpMessageState(err.response, '登入')\n          this.$router.push('/login')\n        })\n\n      // 1. 上周寫法：先判斷是否有 token\n      // if (token) {\n      //   // Axios 預設值\n      //   this.$http.defaults.headers.common.Authorization = token\n      //   this.$http\n      //     .post(`${process.env.VUE_APP_API}/api/user/check`)\n      //     .then((res) => {\n      //       console.log(res.data)\n      //       this.checkSuccess = true\n      //       this.$httpMessageState(res, '登入')\n      //     })\n      //     .catch((err) => {\n      //       console.log(err.response.data)\n      //     })\n      // } else {\n      //   alert('您還沒有登入喔')\n      //   this.$router.push('/login')\n      // }\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/\">Brand Logo</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\"\n              >產品管理</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\"\n              >訂單管理</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupons\"\n              >優惠券</router-link\n            >\n          </li>\n        </ul>\n        <div>\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-primary me-3\"\n            @click=\"logOut\"\n          >\n            登出\n          </button>\n          <router-link to=\"/cart\" class=\"btn btn-primary\">回前台</router-link>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n<script>\nimport checkLogin from '@/mixins/checkLogin'\nimport logOut from '@/mixins/logOut'\nexport default {\n  mixins: [checkLogin, logOut],\n  methods: {\n    // 改成引入 mixin 的方法\n    // logOut () {\n    //   document.cookie = 'hexToken=\"\"; expires=\"\"'\n    //   alert('已清除 Token')\n    //   this.$router.push('/login')\n    // }\n  }\n}\n</script>\n","import { render } from \"./AdminNavbar.vue?vue&type=template&id=aa857068\"\nimport script from \"./AdminNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./AdminNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/linchiao-jo/Desktop/OnGoing/01-六角切版/07-Vue直播班_2022/Info/week7-1/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=0e4f20ef\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/linchiao-jo/Desktop/OnGoing/01-六角切版/07-Vue直播班_2022/Info/week7-1/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  data () {\n    return {\n      isLogin: false\n    }\n  },\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      )\n      this.$http.defaults.headers.common.Authorization = token\n\n      if (token) {\n        this.isLogin = true\n      } else {\n        this.isLogin = false\n      }\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n","export default {\n  methods: {\n    logOut () {\n      document.cookie = 'hexToken=\"\"; expires=\"\"'\n      alert('已清除 Token')\n      this.$router.push('/login')\n    }\n  }\n}\n"],"sourceRoot":""}