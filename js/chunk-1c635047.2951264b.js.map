{"version":3,"sources":["webpack:///./src/mixins/checkLogin.js","webpack:///./src/views/FrontView.vue","webpack:///./src/components/FrontNavbar.vue","webpack:///./src/components/FrontNavbar.vue?67e8","webpack:///./src/views/FrontView.vue?93a5","webpack:///./src/mixins/logOut.js"],"names":["data","isLogin","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","mounted","_createVNode","_component_FrontNavbar","_component_router_view","class","_createElementVNode","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","_createElementBlock","_component_router_link","to","_hoisted_4","_ctx","_Fragment","key","onClick","_createBlock","_toDisplayString","$data","carts","length","mixins","logOut","cart","isLoadingItem","getCart","get","process","then","res","catch","err","console","log","response","emitter","on","__exports__","components","FrontNavbar","render","alert","$router","push"],"mappings":"sIAAe,QACbA,KADa,WAEX,MAAO,CACLC,SAAS,IAGbC,QAAS,CACPC,WADO,WAEL,IAAMC,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAEFC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EAGjDI,KAAKP,UADHG,IAORU,QArBa,WAsBXN,KAAKL,gB,2MCrBPY,eAA2BC,GAC3BD,eAA2BE,IAA3B,I,OCDKC,MAAM,iD,GACJA,MAAM,mB,iBACgC,c,EACzCC,eAUS,UATPD,MAAM,iBACNE,KAAK,SACLC,iBAAe,WACfC,iBAAe,0BACfC,gBAAc,yBACdC,gBAAc,QACdC,aAAW,qBAPb,CASEN,eAAyC,QAAnCD,MAAM,0BATd,G,GAWKA,MAAM,2BAA2BQ,GAAG,0B,GACnCR,MAAM,mC,GACJA,MAAM,Y,iBAC6B,Q,GAEnCA,MAAM,Y,iBACqC,Q,GAE3CA,MAAM,Y,iBACiC,O,iBAQxC,S,iBAWkE,Q,iBAGrB,Q,GAExCA,MAAM,yC,oFA/CtBS,eAsDM,MAtDN,EAsDM,CArDJR,eAoDM,MApDN,EAoDM,CAnDJJ,eAAiEa,EAAA,CAApDV,MAAM,eAAeW,GAAG,KAArC,C,wBAAyC,iBAAU,O,MACnDC,EAWAX,eAsCM,MAtCN,EAsCM,CArCJA,eAUK,KAVL,EAUK,CATHA,eAEK,KAFL,EAEK,CADHJ,eAAuDa,EAAA,CAA1CV,MAAM,WAAWW,GAAG,KAAjC,C,wBAAqC,iBAAI,O,QAE3CV,eAEK,KAFL,EAEK,CADHJ,eAA+Da,EAAA,CAAlDV,MAAM,WAAWW,GAAG,aAAjC,C,wBAA6C,iBAAI,O,QAEnDV,eAEK,KAFL,EAEK,CADHJ,eAA0Da,EAAA,CAA7CV,MAAM,WAAWW,GAAG,SAAjC,C,wBAAyC,iBAAG,O,UAGhDV,eAyBM,YAxBYY,4BAAhBJ,eAcWK,OAAA,CAAAC,OAAA,CAbTlB,eAKca,EAAA,CAJZC,GAAG,kBACHX,MAAM,gCAFR,C,wBAGC,iBAED,O,MACAC,eAMS,UALPC,KAAK,SACLF,MAAM,+BACLgB,QAAK,8BAAEH,yCACT,SAXH,uBAeAI,eAEcP,EAAA,C,MAFDC,GAAG,SAASX,MAAM,gCAA/B,C,wBAAqE,iBAErE,O,OACAH,eAKca,EAAA,CALDC,GAAG,QAAQX,MAAM,mBAA9B,C,wBAAgD,iBAE9C,kBAES,OAFT,EAESkB,eADPC,OAAKC,MAAMC,QAAM,O,gEAahB,GACbC,OAAQ,CAACrC,OAAYsC,QACrBzC,KAFa,WAGX,MAAO,CACL0C,KAAM,CACJJ,MAAO,IAETK,cAAe,KAInBzC,QAAS,CACP0C,QADO,WACI,WACTpC,KAAKC,MACFoC,IADH,UACUC,0CADV,gBACyCA,YADzC,UAEGC,MAAK,SAACC,GAEL,EAAKN,KAAOM,EAAIhD,KAAKA,QAEtBiD,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAIG,SAASrD,WAIjCc,QAxBa,WAwBF,WACTN,KAAKoC,UAELU,OAAQC,GAAG,YAAY,WACrB,EAAKX,e,qBCrFX,MAAMY,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QFDA,GACbC,WAAY,CACVC,gBGHJ,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,kCCPA,QACbzD,QAAS,CACPuC,OADO,WAELpC,SAASC,OAAS,0BAClBsD,MAAM,aACNpD,KAAKqD,QAAQC,KAAK","file":"js/chunk-1c635047.2951264b.js","sourcesContent":["export default {\n  data () {\n    return {\n      isLogin: false\n    }\n  },\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      )\n      this.$http.defaults.headers.common.Authorization = token\n\n      if (token) {\n        this.isLogin = true\n      } else {\n        this.isLogin = false\n      }\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n","<template>\n  <FrontNavbar></FrontNavbar>\n  <router-view></router-view>\n</template>\n<script>\nimport FrontNavbar from '@/components/FrontNavbar.vue'\nexport default {\n  components: {\n    FrontNavbar\n  }\n}\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/\">Brand Logo</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">Home</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/products\">產品列表</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/cart\">購物車</router-link>\n          </li>\n        </ul>\n        <div>\n          <template v-if=\"isLogin\">\n            <router-link\n              to=\"/admin/products\"\n              class=\"btn btn-outline-primary me-3\"\n            >\n              到後台\n            </router-link>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-primary me-3\"\n              @click=\"logOut\"\n            >\n              登出\n            </button>\n          </template>\n          <router-link to=\"/login\" class=\"btn btn-outline-primary me-3\" v-else>\n            登入\n          </router-link>\n          <router-link to=\"/cart\" class=\"btn btn-primary\">\n            結帳\n            <span class=\"badge rounded-pill bg-light text-dark\">{{\n              cart.carts.length\n            }}</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n<script>\nimport emitter from '@/methods/emitter'\nimport checkLogin from '@/mixins/checkLogin'\nimport logOut from '@/mixins/logOut'\n\nexport default {\n  mixins: [checkLogin, logOut],\n  data () {\n    return {\n      cart: {\n        carts: []\n      },\n      isLoadingItem: ''\n      // isLogin: false\n    }\n  },\n  methods: {\n    getCart () {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          // console.log(res.data.data)\n          this.cart = res.data.data\n        })\n        .catch((err) => {\n          console.log(err.response.data)\n        })\n    }\n  },\n  mounted () {\n    this.getCart()\n    // emitter 監聽是否有產品加入購物車\n    emitter.on('get-cart', () => {\n      this.getCart()\n    })\n    // emitter 監聽是否已登入\n    // emitter.on('is-login', () => {\n    //   console.log('emitter on')\n    //   this.isLogin = true\n    //   console.log('emitter on true')\n    // })\n  }\n}\n</script>\n","import { render } from \"./FrontNavbar.vue?vue&type=template&id=367b3fa3\"\nimport script from \"./FrontNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./FrontNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/linchiao-jo/Desktop/OnGoing/01-六角切版/07-Vue直播班_2022/Info/week7-1/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FrontView.vue?vue&type=template&id=02dbf7f9\"\nimport script from \"./FrontView.vue?vue&type=script&lang=js\"\nexport * from \"./FrontView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/linchiao-jo/Desktop/OnGoing/01-六角切版/07-Vue直播班_2022/Info/week7-1/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  methods: {\n    logOut () {\n      document.cookie = 'hexToken=\"\"; expires=\"\"'\n      alert('已清除 Token')\n      this.$router.push('/login')\n    }\n  }\n}\n"],"sourceRoot":""}